{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar checkbox_component_1 = require(\"../checkbox/checkbox.component\");\n\nvar selectItem_component_1 = require(\"./selectItem.component\");\n\nvar SelectGroup = function (_react_1$default$Comp) {\n  _inherits(SelectGroup, _react_1$default$Comp);\n\n  var _super = _createSuper(SelectGroup);\n\n  function SelectGroup() {\n    var _this;\n\n    _classCallCheck(this, SelectGroup);\n\n    _this = _super.apply(this, arguments);\n\n    _this.createAccessoryProps = function (props) {\n      return {\n        checked: props.selected,\n        onChange: function onChange() {\n          return props.onPress && props.onPress(props.descriptor);\n        }\n      };\n    };\n\n    _this.createGroupedItemProps = function (props) {\n      var accessoryProps = _this.createAccessoryProps(props);\n\n      return {\n        appearance: 'grouped',\n        accessoryLeft: function accessoryLeft(evaProps) {\n          return _this.renderAccessory(_objectSpread(_objectSpread({}, evaProps), accessoryProps));\n        }\n      };\n    };\n\n    _this.renderAccessory = function (props) {\n      if (!_this.isMultiSelect) {\n        return null;\n      }\n\n      return react_1.default.createElement(checkbox_component_1.CheckBox, _extends({}, props));\n    };\n\n    _this.renderGroupedItems = function (source) {\n      return react_1.default.Children.map(source, function (item, key) {\n        var groupedProps = _this.createGroupedItemProps(item.props);\n\n        return react_1.default.cloneElement(item, _objectSpread(_objectSpread({\n          key: key\n        }, groupedProps), item.props));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SelectGroup, [{\n    key: \"isMultiSelect\",\n    get: function get() {\n      if (this.props.descriptor) {\n        return this.props.descriptor.multiSelect;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"groupAccessoryState\",\n    get: function get() {\n      var nestedElements = react_1.default.Children.toArray(this.props.children);\n      var selectedElements = nestedElements.filter(function (el) {\n        return el.props.selected;\n      });\n      var indeterminate = selectedElements.length > 0 && selectedElements.length < nestedElements.length;\n      var checked = selectedElements.length === nestedElements.length;\n      return {\n        checked: checked,\n        indeterminate: indeterminate\n      };\n    }\n  }, {\n    key: \"groupAccessoryProps\",\n    get: function get() {\n      return _objectSpread(_objectSpread({}, this.createAccessoryProps(this.props)), this.groupAccessoryState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          itemProps = _objectWithoutProperties(_this$props, [\"children\"]);\n\n      return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(selectItem_component_1.SelectItem, _extends({\n        accessoryLeft: function accessoryLeft(evaProps) {\n          return _this2.renderAccessory(_objectSpread(_objectSpread({}, evaProps), _this2.groupAccessoryProps));\n        }\n      }, itemProps)), this.renderGroupedItems(children));\n    }\n  }]);\n\n  return SelectGroup;\n}(react_1.default.Component);\n\nexports.SelectGroup = SelectGroup;","map":{"version":3,"sources":["../../../../../src/components/ui/select/selectGroup.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst checkbox_component_1 = require(\"../checkbox/checkbox.component\");\r\nconst selectItem_component_1 = require(\"./selectItem.component\");\r\n/**\r\n * A group of items displayed in Select.\r\n * Groups should be rendered within Select and contain SelectItem components to provide a useful component.\r\n *\r\n * @extends React.Component\r\n *\r\n * @property {ReactElement<SelectItemProps> | ReactElement<SelectItemProps>[]} children -\r\n * items to be rendered within group.\r\n *\r\n * @property {ReactText | (TextProps) => ReactElement} title - String, number or a function component\r\n * to render within the group.\r\n * If it is a function, expected to return a Text.\r\n *\r\n * @property {(ImageProps) => ReactElement} accessoryLeft - Function component\r\n * to render to start of the *title*.\r\n * Expected to return an Image.\r\n *\r\n * @property {(ImageProps) => ReactElement} accessoryRight - Function component\r\n * to render to end of the *title*.\r\n * Expected to return an Image.\r\n *\r\n * @property {TouchableOpacityProps} ...TouchableOpacityProps - Any props applied to TouchableOpacity component.\r\n *\r\n * @overview-example SelectWithGroups\r\n */\r\nclass SelectGroup extends react_1.default.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.createAccessoryProps = (props) => {\r\n            return {\r\n                checked: props.selected,\r\n                onChange: () => props.onPress && props.onPress(props.descriptor),\r\n            };\r\n        };\r\n        this.createGroupedItemProps = (props) => {\r\n            const accessoryProps = this.createAccessoryProps(props);\r\n            return {\r\n                appearance: 'grouped',\r\n                accessoryLeft: evaProps => this.renderAccessory({ ...evaProps, ...accessoryProps }),\r\n            };\r\n        };\r\n        this.renderAccessory = (props) => {\r\n            if (!this.isMultiSelect) {\r\n                return null;\r\n            }\r\n            return (react_1.default.createElement(checkbox_component_1.CheckBox, Object.assign({}, props)));\r\n        };\r\n        this.renderGroupedItems = (source) => {\r\n            return react_1.default.Children.map(source, (item, key) => {\r\n                const groupedProps = this.createGroupedItemProps(item.props);\r\n                return react_1.default.cloneElement(item, { key, ...groupedProps, ...item.props });\r\n            });\r\n        };\r\n    }\r\n    get isMultiSelect() {\r\n        if (this.props.descriptor) {\r\n            return this.props.descriptor.multiSelect;\r\n        }\r\n        return false;\r\n    }\r\n    get groupAccessoryState() {\r\n        const nestedElements = react_1.default.Children.toArray(this.props.children);\r\n        const selectedElements = nestedElements.filter(el => el.props.selected);\r\n        const indeterminate = selectedElements.length > 0 && selectedElements.length < nestedElements.length;\r\n        const checked = selectedElements.length === nestedElements.length;\r\n        return { checked, indeterminate };\r\n    }\r\n    get groupAccessoryProps() {\r\n        return {\r\n            ...this.createAccessoryProps(this.props),\r\n            ...this.groupAccessoryState,\r\n        };\r\n    }\r\n    render() {\r\n        const { children, ...itemProps } = this.props;\r\n        return (react_1.default.createElement(react_1.default.Fragment, null,\r\n            react_1.default.createElement(selectItem_component_1.SelectItem, Object.assign({ accessoryLeft: evaProps => this.renderAccessory({ ...evaProps, ...this.groupAccessoryProps }) }, itemProps)),\r\n            this.renderGroupedItems(children)));\r\n    }\r\n}\r\nexports.SelectGroup = SelectGroup;\r\n//# sourceMappingURL=selectGroup.component.js.map"]},"metadata":{},"sourceType":"script"}