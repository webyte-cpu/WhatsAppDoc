{"ast":null,"code":"\"use strict\";\n/**\r\n * @license\r\n * Copyright Akveo. All Rights Reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar hoist_non_react_statics_1 = __importDefault(require(\"hoist-non-react-statics\"));\n\nvar themeContext_1 = require(\"./themeContext\");\n\nexports.withStyles = function (Component, createStyles) {\n  var Wrapper = function (_react_1$default$Comp) {\n    _inherits(Wrapper, _react_1$default$Comp);\n\n    var _super = _createSuper(Wrapper);\n\n    function Wrapper() {\n      var _this;\n\n      _classCallCheck(this, Wrapper);\n\n      _this = _super.apply(this, arguments);\n\n      _this.withThemedProps = function (props, theme) {\n        var style = createStyles && createStyles(theme);\n        return _objectSpread(_objectSpread({}, props), {}, {\n          eva: {\n            theme: theme,\n            style: style\n          }\n        });\n      };\n\n      _this.renderWrappedElement = function (theme) {\n        var _this$props = _this.props,\n            forwardedRef = _this$props.forwardedRef,\n            restProps = _objectWithoutProperties(_this$props, [\"forwardedRef\"]);\n\n        var props = _this.withThemedProps(restProps, theme);\n\n        return react_1.default.createElement(Component, _extends({}, props, {\n          ref: forwardedRef\n        }));\n      };\n\n      return _this;\n    }\n\n    _createClass(Wrapper, [{\n      key: \"render\",\n      value: function render() {\n        return react_1.default.createElement(themeContext_1.ThemeContext.Consumer, null, this.renderWrappedElement);\n      }\n    }]);\n\n    return Wrapper;\n  }(react_1.default.Component);\n\n  var WrappingElement = function WrappingElement(props, ref) {\n    return react_1.default.createElement(Wrapper, _extends({}, props, {\n      forwardedRef: ref\n    }));\n  };\n\n  var ThemedComponent = react_1.default.forwardRef(WrappingElement);\n  ThemedComponent.displayName = Component.displayName || Component.name;\n  hoist_non_react_statics_1.default(ThemedComponent, Component);\n  return ThemedComponent;\n};","map":{"version":3,"sources":["../../../../../src/components/theme/theme/withStyles.tsx"],"names":[],"mappings":";AAAA;;;;AAIG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEH,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,yBAAA,GAAA,eAAA,CAAA,OAAA,CAAA,yBAAA,CAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,kBAAA;;AA0Ca,OAAA,CAAA,UAAA,GAAa,UAAsB,SAAtB,EACsB,YADtB,EAC4F;AAAA,MAO9G,OAP8G;AAAA;;AAAA;;AAOpH,uBAAA;AAAA;;AAAA;;;;AAEU,YAAA,eAAA,GAAkB,UAAC,KAAD,EAAW,KAAX,EAA6C;AACrE,YAAM,KAAK,GAAG,YAAY,IAAI,YAAY,CAAC,KAAD,CAA1C;AACA,+CACK,KADL;AAEE,UAAA,GAAG,EAAE;AACH,YAAA,KAAK,EAAL,KADG;AAEH,YAAA,KAAK,EAAL;AAFG;AAFP;AAOD,OATO;;AAWA,YAAA,oBAAA,GAAuB,UAAC,KAAD,EAAkE;AAAA,0BACxD,MAAK,KADmD;AAAA,YACvF,YADuF,eACvF,YADuF;AAAA,YACtE,SADsE;;AAE/F,YAAM,KAAK,GAAiB,MAAK,eAAL,CAAqB,SAArB,EAAqC,KAArC,CAA5B;;AAEA,eACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,SAAD,EAAU,SAAA,EAAA,EACJ,KADI,EACC;AACT,UAAA,GAAG,EAAE;AADI,SADD,CAAV,CADF;AAMD,OAVO;;AAbV;AAgCC;;AAvCmH;AAAA;AAAA,aAgC3G,kBAAM;AACX,eACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,cAAA,CAAA,YAAA,CAAa,QAAd,EAAsB,IAAtB,EACG,KAAK,oBADR,CADF;AAKD;AAtCiH;;AAAA;AAAA,IAO9F,OAAA,CAAA,OAAA,CAAM,SAPwF;;AAyCpH,MAAM,eAAe,GAAG,SAAlB,eAAkB,CAAC,KAAD,EAAuB,GAAvB,EAAkF;AACxG,WAEE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,OAAD,EAAQ,SAAA,EAAA,EACF,KADE,EACG;AACT,MAAA,YAAY,EAAE;AADL,KADH,CAAR,CAFF;AAOD,GARD;;AAUA,MAAM,eAAe,GAAG,OAAA,CAAA,OAAA,CAAM,UAAN,CAAwD,eAAxD,CAAxB;AAEA,EAAA,eAAe,CAAC,WAAhB,GAA8B,SAAS,CAAC,WAAV,IAAyB,SAAS,CAAC,IAAjE;AAEA,EAAA,yBAAA,CAAA,OAAA,CAAqB,eAArB,EAAsC,SAAtC;AAGA,SAAO,eAAP;AACD,CA5DY","sourceRoot":"","sourcesContent":["\"use strict\";\r\n/**\r\n * @license\r\n * Copyright Akveo. All Rights Reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n */\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst hoist_non_react_statics_1 = __importDefault(require(\"hoist-non-react-statics\"));\r\nconst themeContext_1 = require(\"./themeContext\");\r\n/**\r\n * High Order Function for creating styles mapped to current theme\r\n * Returns component class which can be used as themed component.\r\n *\r\n * @param Component - Type: {ComponentType}. Component to be themed.\r\n *\r\n * @param createStyles - Type: {(ThemeType) => NamedStyles}. Function used to create styles mapped on theme.\r\n *\r\n * @overview-example WithStylesSimpleUsage\r\n *\r\n * @overview-example WithStylesEvaProp\r\n * A withStyles function injects `eva` property into props of wrapped component, where\r\n * theme - a current theme,\r\n * styles - a styles object provided by a function used as a second argument of withStyles.\r\n * ```\r\n * interface EvaProp {\r\n *   theme: ThemeType;\r\n *   style: StyleType;\r\n * }\r\n * ```\r\n */\r\nexports.withStyles = (Component, createStyles) => {\r\n    class Wrapper extends react_1.default.Component {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.withThemedProps = (props, theme) => {\r\n                const style = createStyles && createStyles(theme);\r\n                return {\r\n                    ...props,\r\n                    eva: {\r\n                        theme,\r\n                        style,\r\n                    },\r\n                };\r\n            };\r\n            this.renderWrappedElement = (theme) => {\r\n                const { forwardedRef, ...restProps } = this.props;\r\n                const props = this.withThemedProps(restProps, theme);\r\n                return (react_1.default.createElement(Component, Object.assign({}, props, { ref: forwardedRef })));\r\n            };\r\n        }\r\n        render() {\r\n            return (react_1.default.createElement(themeContext_1.ThemeContext.Consumer, null, this.renderWrappedElement));\r\n        }\r\n    }\r\n    const WrappingElement = (props, ref) => {\r\n        return (\r\n        // @ts-ignore\r\n        react_1.default.createElement(Wrapper, Object.assign({}, props, { forwardedRef: ref })));\r\n    };\r\n    const ThemedComponent = react_1.default.forwardRef(WrappingElement);\r\n    ThemedComponent.displayName = Component.displayName || Component.name;\r\n    hoist_non_react_statics_1.default(ThemedComponent, Component);\r\n    // @ts-ignore\r\n    return ThemedComponent;\r\n};\r\n//# sourceMappingURL=withStyles.js.map"]},"metadata":{},"sourceType":"script"}