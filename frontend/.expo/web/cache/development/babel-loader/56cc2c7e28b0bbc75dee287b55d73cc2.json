{"ast":null,"code":"\"use strict\";\n/**\r\n * @license\r\n * Copyright Akveo. All Rights Reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar divider_component_1 = require(\"../divider/divider.component\");\n\nvar calendarHeader_component_1 = require(\"./components/calendarHeader.component\");\n\nvar calendarMonthHeader_component_1 = require(\"./components/calendarMonthHeader.component\");\n\nvar calendarPicker_component_1 = require(\"./components/picker/calendarPicker.component\");\n\nvar calendarDateContent_component_1 = require(\"./components/calendarDateContent.component\");\n\nvar type_1 = require(\"./type\");\n\nvar nativeDate_service_1 = require(\"./service/nativeDate.service\");\n\nvar calendarData_service_1 = require(\"./service/calendarData.service\");\n\nvar PICKER_ROWS = 4;\nvar PICKER_COLUMNS = 3;\nvar VIEWS_IN_PICKER = PICKER_ROWS * PICKER_COLUMNS;\nvar FORMAT_DAY = 'D';\nvar FORMAT_MONTH = 'MMM';\nvar FORMAT_YEAR = 'YYYY';\nvar FORMAT_HEADER_DATE = 'MMMM YYYY';\nvar FORMAT_HEADER_MONTH = 'YYYY';\nvar FORMAT_HEADER_YEAR = 'YYYY';\n\nvar BaseCalendarComponent = function (_react_1$default$Comp) {\n  _inherits(BaseCalendarComponent, _react_1$default$Comp);\n\n  var _super = _createSuper(BaseCalendarComponent);\n\n  function BaseCalendarComponent() {\n    var _this;\n\n    _classCallCheck(this, BaseCalendarComponent);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      viewMode: _this.props.startView,\n      visibleDate: _this.dateService.getMonthStart(_this.selectedDate())\n    };\n    _this.dataService = new calendarData_service_1.CalendarDataService(_this.dateService);\n\n    _this.scrollToToday = function () {\n      _this.setState({\n        viewMode: type_1.CalendarViewModes.DATE,\n        visibleDate: _this.dateService.today()\n      });\n    };\n\n    _this.getCalendarStyle = function (source) {\n      return {\n        container: {\n          width: source.width,\n          paddingVertical: source.paddingVertical,\n          borderColor: source.borderColor,\n          borderWidth: source.borderWidth,\n          borderRadius: source.borderRadius\n        },\n        headerContainer: {\n          paddingHorizontal: source.headerPaddingHorizontal,\n          paddingVertical: source.headerPaddingVertical\n        },\n        title: {\n          fontSize: source.titleFontSize,\n          fontWeight: source.titleFontWeight,\n          color: source.titleColor,\n          fontFamily: source.titleFontFamily\n        },\n        icon: {\n          width: source.iconWidth,\n          height: source.iconHeight,\n          tintColor: source.iconTintColor\n        },\n        divider: {\n          marginVertical: source.dividerMarginVertical\n        },\n        daysHeaderContainer: {\n          marginHorizontal: source.rowMarginHorizontal\n        },\n        row: {\n          minHeight: source.rowMinHeight,\n          marginHorizontal: source.rowMarginHorizontal\n        }\n      };\n    };\n\n    _this.isDayDisabled = function (_ref) {\n      var date = _ref.date;\n\n      var minDayStart = _this.dateService.createDate(_this.dateService.getYear(_this.min), _this.dateService.getMonth(_this.min), _this.dateService.getDate(_this.min));\n\n      var maxDayStart = _this.dateService.createDate(_this.dateService.getYear(_this.max), _this.dateService.getMonth(_this.max), _this.dateService.getDate(_this.max));\n\n      var fitsFilter = _this.props.filter && !_this.props.filter(date) || false;\n      return !_this.dateService.isBetweenIncludingSafe(date, minDayStart, maxDayStart) || fitsFilter;\n    };\n\n    _this.isDayToday = function (_ref2) {\n      var date = _ref2.date;\n      return _this.dateService.isSameDaySafe(date, _this.dateService.today());\n    };\n\n    _this.onDaySelect = function (_ref3) {\n      var date = _ref3.date;\n\n      _this.onDateSelect(date);\n    };\n\n    _this.onMonthSelect = function (_ref4) {\n      var date = _ref4.date;\n\n      var nextVisibleDate = _this.dateService.createDate(_this.dateService.getYear(_this.state.visibleDate), _this.dateService.getMonth(date), _this.dateService.getDate(_this.state.visibleDate));\n\n      _this.setState({\n        viewMode: _this.state.viewMode.pickNext(),\n        visibleDate: nextVisibleDate\n      });\n    };\n\n    _this.onYearSelect = function (_ref5) {\n      var date = _ref5.date;\n\n      var nextVisibleDate = _this.dateService.createDate(_this.dateService.getYear(date), _this.dateService.getMonth(_this.state.visibleDate), _this.dateService.getDate(_this.state.visibleDate));\n\n      _this.setState({\n        viewMode: _this.state.viewMode.pickNext(),\n        visibleDate: nextVisibleDate\n      });\n    };\n\n    _this.onPickerNavigationPress = function () {\n      _this.setState({\n        viewMode: _this.state.viewMode.navigationNext()\n      });\n    };\n\n    _this.onHeaderNavigationLeftPress = function () {\n      _this.setState({\n        visibleDate: _this.createViewModeVisibleDate(-1)\n      });\n    };\n\n    _this.onHeaderNavigationRightPress = function () {\n      _this.setState({\n        visibleDate: _this.createViewModeVisibleDate(1)\n      });\n    };\n\n    _this.getWeekdayStyle = function (source) {\n      return {\n        fontSize: source.weekdayTextFontSize,\n        fontWeight: source.weekdayTextFontWeight,\n        color: source.weekdayTextColor,\n        fontFamily: source.weekdayTextFontFamily\n      };\n    };\n\n    _this.isDaySelected = function (_ref6) {\n      var date = _ref6.date;\n      return _this.isDateSelected(date);\n    };\n\n    _this.isMonthSelected = function (_ref7) {\n      var date = _ref7.date;\n      return _this.dateService.isSameMonthSafe(date, _this.selectedDate());\n    };\n\n    _this.isYearSelected = function (_ref8) {\n      var date = _ref8.date;\n      return _this.dateService.isSameYearSafe(date, _this.selectedDate());\n    };\n\n    _this.isMonthDisabled = function (_ref9) {\n      var date = _ref9.date;\n\n      var minMonthStart = _this.dateService.getMonthStart(_this.min);\n\n      var maxMonthStart = _this.dateService.getMonthStart(_this.max);\n\n      return !_this.dateService.isBetweenIncludingSafe(date, minMonthStart, maxMonthStart);\n    };\n\n    _this.isYearDisabled = function (_ref10) {\n      var date = _ref10.date;\n\n      var minYearStart = _this.dateService.getYearStart(_this.min);\n\n      var maxYearStart = _this.dateService.getYearEnd(_this.max);\n\n      return !_this.dateService.isBetweenIncludingSafe(date, minYearStart, maxYearStart);\n    };\n\n    _this.isMonthToday = function (date) {\n      return _this.dateService.isSameMonthSafe(date.date, _this.dateService.today());\n    };\n\n    _this.isYearToday = function (_ref11) {\n      var date = _ref11.date;\n      return _this.dateService.isSameYearSafe(date, _this.dateService.today());\n    };\n\n    _this.isHeaderNavigationAllowed = function () {\n      return _this.state.viewMode.id !== type_1.CalendarViewModes.MONTH.id;\n    };\n\n    _this.createViewModeVisibleDate = function (page) {\n      switch (_this.state.viewMode.id) {\n        case type_1.CalendarViewModes.DATE.id:\n          {\n            return _this.dateService.addMonth(_this.state.visibleDate, page);\n          }\n\n        case type_1.CalendarViewModes.MONTH.id:\n          {\n            return _this.dateService.addYear(_this.state.visibleDate, page);\n          }\n\n        case type_1.CalendarViewModes.YEAR.id:\n          {\n            return _this.dateService.addYear(_this.state.visibleDate, VIEWS_IN_PICKER * page);\n          }\n      }\n    };\n\n    _this.createViewModeHeaderTitle = function (date, viewMode) {\n      switch (viewMode.id) {\n        case type_1.CalendarViewModes.DATE.id:\n          {\n            return _this.dateService.format(date, FORMAT_HEADER_DATE);\n          }\n\n        case type_1.CalendarViewModes.MONTH.id:\n          {\n            return _this.dateService.format(date, FORMAT_HEADER_MONTH);\n          }\n\n        case type_1.CalendarViewModes.YEAR.id:\n          {\n            var minDateFormat = _this.dateService.format(_this.min, FORMAT_HEADER_YEAR);\n\n            var maxDateFormat = _this.dateService.format(_this.max, FORMAT_HEADER_YEAR);\n\n            return minDateFormat + \" - \" + maxDateFormat;\n          }\n      }\n    };\n\n    _this.renderDayIfNeeded = function (item, style) {\n      var shouldRender = !item.bounding || _this.props.boundingMonth;\n\n      if (shouldRender) {\n        var renderSelector = _this.props.renderDay || _this.renderDayElement;\n        return renderSelector(item, style);\n      }\n\n      return null;\n    };\n\n    _this.renderWeekdayElement = function (weekday, index) {\n      return react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, {\n        key: index,\n        textStyle: _this.getWeekdayStyle(_this.props.eva.style)\n      }, weekday);\n    };\n\n    _this.renderDayElement = function (_ref12, evaStyle) {\n      var date = _ref12.date;\n      return react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, {\n        style: evaStyle.container,\n        textStyle: evaStyle.text\n      }, _this.dateService.format(date, FORMAT_DAY));\n    };\n\n    _this.renderMonthElement = function (_ref13, evaStyle) {\n      var date = _ref13.date;\n      return react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, {\n        style: evaStyle.container,\n        textStyle: evaStyle.text\n      }, _this.dateService.format(date, FORMAT_MONTH));\n    };\n\n    _this.renderYearElement = function (_ref14, evaStyle) {\n      var date = _ref14.date;\n      return react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, {\n        style: evaStyle.container,\n        textStyle: evaStyle.text\n      }, _this.dateService.format(date, FORMAT_YEAR));\n    };\n\n    _this.renderDayPickerElement = function (date, evaStyle) {\n      return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(calendarMonthHeader_component_1.CalendarMonthHeader, {\n        style: evaStyle.daysHeaderContainer,\n        data: _this.dateService.getDayOfWeekNames()\n      }, _this.renderWeekdayElement), react_1.default.createElement(divider_component_1.Divider, {\n        style: evaStyle.divider\n      }), react_1.default.createElement(calendarPicker_component_1.CalendarPicker, {\n        rowStyle: evaStyle.row,\n        data: _this.createDates(date),\n        onSelect: _this.onDaySelect,\n        isItemSelected: _this.isDaySelected,\n        isItemDisabled: _this.isDayDisabled,\n        isItemToday: _this.isDayToday,\n        shouldItemUpdate: _this.shouldUpdateDate\n      }, _this.renderDayIfNeeded));\n    };\n\n    _this.renderMonthPickerElement = function (date, evaStyle) {\n      return react_1.default.createElement(calendarPicker_component_1.CalendarPicker, {\n        rowStyle: evaStyle.row,\n        data: _this.dataService.createMonthPickerData(date, PICKER_ROWS, PICKER_COLUMNS),\n        onSelect: _this.onMonthSelect,\n        isItemSelected: _this.isMonthSelected,\n        isItemDisabled: _this.isMonthDisabled,\n        isItemToday: _this.isMonthToday\n      }, _this.props.renderMonth || _this.renderMonthElement);\n    };\n\n    _this.renderYearPickerElement = function (date, style) {\n      return react_1.default.createElement(calendarPicker_component_1.CalendarPicker, {\n        rowStyle: style.row,\n        data: _this.dataService.createYearPickerData(date, PICKER_ROWS, PICKER_COLUMNS),\n        onSelect: _this.onYearSelect,\n        isItemSelected: _this.isYearSelected,\n        isItemDisabled: _this.isYearDisabled,\n        isItemToday: _this.isYearToday\n      }, _this.props.renderYear || _this.renderYearElement);\n    };\n\n    _this.renderPickerElement = function (date, style) {\n      switch (_this.state.viewMode.id) {\n        case type_1.CalendarViewModes.DATE.id:\n          return _this.renderDayPickerElement(date, style);\n\n        case type_1.CalendarViewModes.MONTH.id:\n          return _this.renderMonthPickerElement(date, style);\n\n        case type_1.CalendarViewModes.YEAR.id:\n          return _this.renderYearPickerElement(date, style);\n      }\n    };\n\n    _this.renderFooterElement = function (evaStyle) {\n      if (_this.props.renderFooter) {\n        return _this.props.renderFooter();\n      }\n\n      return null;\n    };\n\n    _this.renderHeaderElement = function (evaStyle) {\n      var titleSelector = _this.props.title || _this.createViewModeHeaderTitle;\n      return react_1.default.createElement(calendarHeader_component_1.CalendarHeader, {\n        style: evaStyle.headerContainer,\n        title: titleSelector(_this.state.visibleDate, _this.state.viewMode),\n        titleStyle: evaStyle.title,\n        iconStyle: evaStyle.icon,\n        lateralNavigationAllowed: _this.isHeaderNavigationAllowed(),\n        onTitlePress: _this.onPickerNavigationPress,\n        onNavigationLeftPress: _this.onHeaderNavigationLeftPress,\n        onNavigationRightPress: _this.onHeaderNavigationRightPress\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseCalendarComponent, [{\n    key: \"dateService\",\n    get: function get() {\n      return this.props.dateService;\n    }\n  }, {\n    key: \"min\",\n    get: function get() {\n      return this.props.min || this.dateService.getYearStart(this.dateService.today());\n    }\n  }, {\n    key: \"max\",\n    get: function get() {\n      return this.props.max || this.dateService.getYearEnd(this.dateService.today());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          eva = _this$props.eva,\n          style = _this$props.style,\n          viewProps = _objectWithoutProperties(_this$props, [\"eva\", \"style\"]);\n\n      var evaStyle = this.getCalendarStyle(eva.style);\n      return react_1.default.createElement(react_native_1.View, _extends({}, viewProps, {\n        style: [evaStyle.container, style]\n      }), this.renderHeaderElement(evaStyle), this.renderPickerElement(this.state.visibleDate, evaStyle), this.renderFooterElement(evaStyle));\n    }\n  }]);\n\n  return BaseCalendarComponent;\n}(react_1.default.Component);\n\nexports.BaseCalendarComponent = BaseCalendarComponent;\nBaseCalendarComponent.defaultProps = {\n  dateService: new nativeDate_service_1.NativeDateService(),\n  boundingMonth: true,\n  startView: type_1.CalendarViewModes.DATE\n};","map":{"version":3,"sources":["../../../../../src/components/ui/calendar/baseCalendar.component.tsx"],"names":[],"mappings":";AAAA;;;;AAIG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEH,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;;;AASA,IAAA,mBAAA,GAAA,OAAA,gCAAA;;AACA,IAAA,0BAAA,GAAA,OAAA,yCAAA;;AAIA,IAAA,+BAAA,GAAA,OAAA,8CAAA;;AACA,IAAA,0BAAA,GAAA,OAAA,gDAAA;;AAKA,IAAA,+BAAA,GAAA,OAAA,8CAAA;;AAIA,IAAA,MAAA,GAAA,OAAA,UAAA;;AAMA,IAAA,oBAAA,GAAA,OAAA,gCAAA;;AACA,IAAA,sBAAA,GAAA,OAAA,kCAAA;;AA2BA,IAAM,WAAW,GAAW,CAA5B;AACA,IAAM,cAAc,GAAW,CAA/B;AACA,IAAM,eAAe,GAAW,WAAW,GAAG,cAA9C;AAEA,IAAM,UAAU,GAAW,GAA3B;AACA,IAAM,YAAY,GAAW,KAA7B;AACA,IAAM,WAAW,GAAW,MAA5B;AACA,IAAM,kBAAkB,GAAW,WAAnC;AACA,IAAM,mBAAmB,GAAW,MAApC;AACA,IAAM,kBAAkB,GAAW,MAAnC;;IAEsB,qB;;;;;AAAtB,mCAAA;AAAA;;AAAA;;;AAQS,UAAA,KAAA,GAAkB;AACvB,MAAA,QAAQ,EAAE,MAAK,KAAL,CAAW,SADE;AAEvB,MAAA,WAAW,EAAE,MAAK,WAAL,CAAiB,aAAjB,CAA+B,MAAK,YAAL,EAA/B;AAFU,KAAlB;AAIG,UAAA,WAAA,GAAsC,IAAI,sBAAA,CAAA,mBAAJ,CAAwB,MAAK,WAA7B,CAAtC;;AAcH,UAAA,aAAA,GAAgB,YAAW;AAChC,YAAK,QAAL,CAAc;AACZ,QAAA,QAAQ,EAAE,MAAA,CAAA,iBAAA,CAAkB,IADhB;AAEZ,QAAA,WAAW,EAAE,MAAK,WAAL,CAAiB,KAAjB;AAFD,OAAd;AAID,KALM;;AAOA,UAAA,gBAAA,GAAmB,UAAC,MAAD,EAAsB;AAC9C,aAAO;AACL,QAAA,SAAS,EAAE;AACT,UAAA,KAAK,EAAE,MAAM,CAAC,KADL;AAET,UAAA,eAAe,EAAE,MAAM,CAAC,eAFf;AAGT,UAAA,WAAW,EAAE,MAAM,CAAC,WAHX;AAIT,UAAA,WAAW,EAAE,MAAM,CAAC,WAJX;AAKT,UAAA,YAAY,EAAE,MAAM,CAAC;AALZ,SADN;AAQL,QAAA,eAAe,EAAE;AACf,UAAA,iBAAiB,EAAE,MAAM,CAAC,uBADX;AAEf,UAAA,eAAe,EAAE,MAAM,CAAC;AAFT,SARZ;AAYL,QAAA,KAAK,EAAE;AACL,UAAA,QAAQ,EAAE,MAAM,CAAC,aADZ;AAEL,UAAA,UAAU,EAAE,MAAM,CAAC,eAFd;AAGL,UAAA,KAAK,EAAE,MAAM,CAAC,UAHT;AAIL,UAAA,UAAU,EAAE,MAAM,CAAC;AAJd,SAZF;AAkBL,QAAA,IAAI,EAAE;AACJ,UAAA,KAAK,EAAE,MAAM,CAAC,SADV;AAEJ,UAAA,MAAM,EAAE,MAAM,CAAC,UAFX;AAGJ,UAAA,SAAS,EAAE,MAAM,CAAC;AAHd,SAlBD;AAuBL,QAAA,OAAO,EAAE;AACP,UAAA,cAAc,EAAE,MAAM,CAAC;AADhB,SAvBJ;AA0BL,QAAA,mBAAmB,EAAE;AACnB,UAAA,gBAAgB,EAAE,MAAM,CAAC;AADN,SA1BhB;AA6BL,QAAA,GAAG,EAAE;AACH,UAAA,SAAS,EAAE,MAAM,CAAC,YADf;AAEH,UAAA,gBAAgB,EAAE,MAAM,CAAC;AAFtB;AA7BA,OAAP;AAkCD,KAnCM;;AAqCA,UAAA,aAAA,GAAgB,gBAA2C;AAAA,UAAxC,IAAwC,QAAxC,IAAwC;;AAChE,UAAM,WAAW,GAAM,MAAK,WAAL,CAAiB,UAAjB,CACrB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,GAA9B,CADqB,EAErB,MAAK,WAAL,CAAiB,QAAjB,CAA0B,MAAK,GAA/B,CAFqB,EAGrB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,GAA9B,CAHqB,CAAvB;;AAMA,UAAM,WAAW,GAAM,MAAK,WAAL,CAAiB,UAAjB,CACrB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,GAA9B,CADqB,EAErB,MAAK,WAAL,CAAiB,QAAjB,CAA0B,MAAK,GAA/B,CAFqB,EAGrB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,GAA9B,CAHqB,CAAvB;;AAMA,UAAM,UAAU,GAAY,MAAK,KAAL,CAAW,MAAX,IAAqB,CAAC,MAAK,KAAL,CAAW,MAAX,CAAkB,IAAlB,CAAtB,IAAiD,KAA7E;AAEA,aAAO,CAAC,MAAK,WAAL,CAAiB,sBAAjB,CAAwC,IAAxC,EAA8C,WAA9C,EAA2D,WAA3D,CAAD,IAA4E,UAAnF;AACD,KAhBM;;AAkBA,UAAA,UAAA,GAAa,iBAA2C;AAAA,UAAxC,IAAwC,SAAxC,IAAwC;AAC7D,aAAO,MAAK,WAAL,CAAiB,aAAjB,CAA+B,IAA/B,EAAqC,MAAK,WAAL,CAAiB,KAAjB,EAArC,CAAP;AACD,KAFM;;AAeC,UAAA,WAAA,GAAc,iBAAwC;AAAA,UAArC,IAAqC,SAArC,IAAqC;;AAC5D,YAAK,YAAL,CAAkB,IAAlB;AACD,KAFO;;AAIA,UAAA,aAAA,GAAgB,iBAAwC;AAAA,UAArC,IAAqC,SAArC,IAAqC;;AAC9D,UAAM,eAAe,GAAM,MAAK,WAAL,CAAiB,UAAjB,CACzB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,KAAL,CAAW,WAApC,CADyB,EAEzB,MAAK,WAAL,CAAiB,QAAjB,CAA0B,IAA1B,CAFyB,EAGzB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,KAAL,CAAW,WAApC,CAHyB,CAA3B;;AAMA,YAAK,QAAL,CAAc;AACZ,QAAA,QAAQ,EAAE,MAAK,KAAL,CAAW,QAAX,CAAoB,QAApB,EADE;AAEZ,QAAA,WAAW,EAAE;AAFD,OAAd;AAID,KAXO;;AAaA,UAAA,YAAA,GAAe,iBAAwC;AAAA,UAArC,IAAqC,SAArC,IAAqC;;AAC7D,UAAM,eAAe,GAAM,MAAK,WAAL,CAAiB,UAAjB,CACzB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,IAAzB,CADyB,EAEzB,MAAK,WAAL,CAAiB,QAAjB,CAA0B,MAAK,KAAL,CAAW,WAArC,CAFyB,EAGzB,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,KAAL,CAAW,WAApC,CAHyB,CAA3B;;AAMA,YAAK,QAAL,CAAc;AACZ,QAAA,QAAQ,EAAE,MAAK,KAAL,CAAW,QAAX,CAAoB,QAApB,EADE;AAEZ,QAAA,WAAW,EAAE;AAFD,OAAd;AAID,KAXO;;AAaA,UAAA,uBAAA,GAA0B,YAAW;AAC3C,YAAK,QAAL,CAAc;AACZ,QAAA,QAAQ,EAAE,MAAK,KAAL,CAAW,QAAX,CAAoB,cAApB;AADE,OAAd;AAGD,KAJO;;AAMA,UAAA,2BAAA,GAA8B,YAAW;AAC/C,YAAK,QAAL,CAAc;AACZ,QAAA,WAAW,EAAE,MAAK,yBAAL,CAA+B,CAAC,CAAhC;AADD,OAAd;AAGD,KAJO;;AAMA,UAAA,4BAAA,GAA+B,YAAW;AAChD,YAAK,QAAL,CAAc;AACZ,QAAA,WAAW,EAAE,MAAK,yBAAL,CAA+B,CAA/B;AADD,OAAd;AAGD,KAJO;;AAMA,UAAA,eAAA,GAAkB,UAAC,MAAD,EAAiC;AACzD,aAAO;AACL,QAAA,QAAQ,EAAE,MAAM,CAAC,mBADZ;AAEL,QAAA,UAAU,EAAE,MAAM,CAAC,qBAFd;AAGL,QAAA,KAAK,EAAE,MAAM,CAAC,gBAHT;AAIL,QAAA,UAAU,EAAE,MAAM,CAAC;AAJd,OAAP;AAMD,KAPO;;AASA,UAAA,aAAA,GAAgB,iBAA2C;AAAA,UAAxC,IAAwC,SAAxC,IAAwC;AACjE,aAAO,MAAK,cAAL,CAAoB,IAApB,CAAP;AACD,KAFO;;AAIA,UAAA,eAAA,GAAkB,iBAA2C;AAAA,UAAxC,IAAwC,SAAxC,IAAwC;AACnE,aAAO,MAAK,WAAL,CAAiB,eAAjB,CAAiC,IAAjC,EAAuC,MAAK,YAAL,EAAvC,CAAP;AACD,KAFO;;AAIA,UAAA,cAAA,GAAiB,iBAA2C;AAAA,UAAxC,IAAwC,SAAxC,IAAwC;AAClE,aAAO,MAAK,WAAL,CAAiB,cAAjB,CAAgC,IAAhC,EAAsC,MAAK,YAAL,EAAtC,CAAP;AACD,KAFO;;AAIA,UAAA,eAAA,GAAkB,iBAA2C;AAAA,UAAxC,IAAwC,SAAxC,IAAwC;;AACnE,UAAM,aAAa,GAAM,MAAK,WAAL,CAAiB,aAAjB,CAA+B,MAAK,GAApC,CAAzB;;AACA,UAAM,aAAa,GAAM,MAAK,WAAL,CAAiB,aAAjB,CAA+B,MAAK,GAApC,CAAzB;;AAEA,aAAO,CAAC,MAAK,WAAL,CAAiB,sBAAjB,CAAwC,IAAxC,EAA8C,aAA9C,EAA6D,aAA7D,CAAR;AACD,KALO;;AAOA,UAAA,cAAA,GAAiB,kBAA2C;AAAA,UAAxC,IAAwC,UAAxC,IAAwC;;AAClE,UAAM,YAAY,GAAM,MAAK,WAAL,CAAiB,YAAjB,CAA8B,MAAK,GAAnC,CAAxB;;AACA,UAAM,YAAY,GAAM,MAAK,WAAL,CAAiB,UAAjB,CAA4B,MAAK,GAAjC,CAAxB;;AAEA,aAAO,CAAC,MAAK,WAAL,CAAiB,sBAAjB,CAAwC,IAAxC,EAA8C,YAA9C,EAA4D,YAA5D,CAAR;AACD,KALO;;AAOA,UAAA,YAAA,GAAe,UAAC,IAAD,EAAuC;AAC5D,aAAO,MAAK,WAAL,CAAiB,eAAjB,CAAiC,IAAI,CAAC,IAAtC,EAA4C,MAAK,WAAL,CAAiB,KAAjB,EAA5C,CAAP;AACD,KAFO;;AAIA,UAAA,WAAA,GAAc,kBAA2C;AAAA,UAAxC,IAAwC,UAAxC,IAAwC;AAC/D,aAAO,MAAK,WAAL,CAAiB,cAAjB,CAAgC,IAAhC,EAAsC,MAAK,WAAL,CAAiB,KAAjB,EAAtC,CAAP;AACD,KAFO;;AAIA,UAAA,yBAAA,GAA4B,YAAc;AAChD,aAAO,MAAK,KAAL,CAAW,QAAX,CAAoB,EAApB,KAA2B,MAAA,CAAA,iBAAA,CAAkB,KAAlB,CAAwB,EAA1D;AACD,KAFO;;AAIA,UAAA,yBAAA,GAA4B,UAAC,IAAD,EAAoB;AACtD,cAAQ,MAAK,KAAL,CAAW,QAAX,CAAoB,EAA5B;AACE,aAAK,MAAA,CAAA,iBAAA,CAAkB,IAAlB,CAAuB,EAA5B;AAAgC;AAC9B,mBAAO,MAAK,WAAL,CAAiB,QAAjB,CAA0B,MAAK,KAAL,CAAW,WAArC,EAAkD,IAAlD,CAAP;AACD;;AACD,aAAK,MAAA,CAAA,iBAAA,CAAkB,KAAlB,CAAwB,EAA7B;AAAiC;AAC/B,mBAAO,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,KAAL,CAAW,WAApC,EAAiD,IAAjD,CAAP;AACD;;AACD,aAAK,MAAA,CAAA,iBAAA,CAAkB,IAAlB,CAAuB,EAA5B;AAAgC;AAC9B,mBAAO,MAAK,WAAL,CAAiB,OAAjB,CAAyB,MAAK,KAAL,CAAW,WAApC,EAAiD,eAAe,GAAG,IAAnE,CAAP;AACD;AATH;AAWD,KAZO;;AAcA,UAAA,yBAAA,GAA4B,UAAC,IAAD,EAAU,QAAV,EAAgD;AAClF,cAAQ,QAAQ,CAAC,EAAjB;AACE,aAAK,MAAA,CAAA,iBAAA,CAAkB,IAAlB,CAAuB,EAA5B;AAAgC;AAC9B,mBAAO,MAAK,WAAL,CAAiB,MAAjB,CAAwB,IAAxB,EAA8B,kBAA9B,CAAP;AACD;;AACD,aAAK,MAAA,CAAA,iBAAA,CAAkB,KAAlB,CAAwB,EAA7B;AAAiC;AAC/B,mBAAO,MAAK,WAAL,CAAiB,MAAjB,CAAwB,IAAxB,EAA8B,mBAA9B,CAAP;AACD;;AACD,aAAK,MAAA,CAAA,iBAAA,CAAkB,IAAlB,CAAuB,EAA5B;AAAgC;AAC9B,gBAAM,aAAa,GAAW,MAAK,WAAL,CAAiB,MAAjB,CAAwB,MAAK,GAA7B,EAAkC,kBAAlC,CAA9B;;AACA,gBAAM,aAAa,GAAW,MAAK,WAAL,CAAiB,MAAjB,CAAwB,MAAK,GAA7B,EAAkC,kBAAlC,CAA9B;;AAEA,mBAAU,aAAV,WAA6B,aAA7B;AACD;AAZH;AAcD,KAfO;;AAiBA,UAAA,iBAAA,GAAoB,UAAC,IAAD,EAA4B,KAA5B,EAA4E;AACtG,UAAM,YAAY,GAAY,CAAC,IAAI,CAAC,QAAN,IAAkB,MAAK,KAAL,CAAW,aAA3D;;AAEA,UAAI,YAAJ,EAAkB;AAChB,YAAM,cAAc,GAAG,MAAK,KAAL,CAAW,SAAX,IAAwB,MAAK,gBAApD;AACA,eAAO,cAAc,CAAC,IAAD,EAAO,KAAP,CAArB;AACD;;AAED,aAAO,IAAP;AACD,KATO;;AAWA,UAAA,oBAAA,GAAuB,UAAC,OAAD,EAAkB,KAAlB,EAA+D;AAC5F,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,+BAAA,CAAA,mBAAD,EAAoB;AAClB,QAAA,GAAG,EAAE,KADa;AAElB,QAAA,SAAS,EAAE,MAAK,eAAL,CAAqB,MAAK,KAAL,CAAW,GAAX,CAAe,KAApC;AAFO,OAApB,EAGG,OAHH,CADF;AAOD,KARO;;AAUA,UAAA,gBAAA,GAAmB,kBAAgC,QAAhC,EAAwE;AAAA,UAArE,IAAqE,UAArE,IAAqE;AACjG,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,+BAAA,CAAA,mBAAD,EAAoB;AAClB,QAAA,KAAK,EAAE,QAAQ,CAAC,SADE;AAElB,QAAA,SAAS,EAAE,QAAQ,CAAC;AAFF,OAApB,EAGG,MAAK,WAAL,CAAiB,MAAjB,CAAwB,IAAxB,EAA8B,UAA9B,CAHH,CADF;AAOD,KARO;;AAUA,UAAA,kBAAA,GAAqB,kBAAgC,QAAhC,EAAwE;AAAA,UAArE,IAAqE,UAArE,IAAqE;AACnG,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,+BAAA,CAAA,mBAAD,EAAoB;AAClB,QAAA,KAAK,EAAE,QAAQ,CAAC,SADE;AAElB,QAAA,SAAS,EAAE,QAAQ,CAAC;AAFF,OAApB,EAGG,MAAK,WAAL,CAAiB,MAAjB,CAAwB,IAAxB,EAA8B,YAA9B,CAHH,CADF;AAOD,KARO;;AAUA,UAAA,iBAAA,GAAoB,kBAAgC,QAAhC,EAAwE;AAAA,UAArE,IAAqE,UAArE,IAAqE;AAClG,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,+BAAA,CAAA,mBAAD,EAAoB;AAClB,QAAA,KAAK,EAAE,QAAQ,CAAC,SADE;AAElB,QAAA,SAAS,EAAE,QAAQ,CAAC;AAFF,OAApB,EAGG,MAAK,WAAL,CAAiB,MAAjB,CAAwB,IAAxB,EAA8B,WAA9B,CAHH,CADF;AAOD,KARO;;AAUA,UAAA,sBAAA,GAAyB,UAAC,IAAD,EAAU,QAAV,EAA2C;AAC1E,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,OAAA,CAAA,OAAA,CAAM,QAAP,EAAe,IAAf,EACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,+BAAA,CAAA,mBAAD,EAAoB;AAClB,QAAA,KAAK,EAAE,QAAQ,CAAC,mBADE;AAElB,QAAA,IAAI,EAAE,MAAK,WAAL,CAAiB,iBAAjB;AAFY,OAApB,EAGG,MAAK,oBAHR,CADF,EAME,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,mBAAA,CAAA,OAAD,EAAQ;AAAC,QAAA,KAAK,EAAE,QAAQ,CAAC;AAAjB,OAAR,CANF,EAOE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAA,cAAD,EAAe;AACb,QAAA,QAAQ,EAAE,QAAQ,CAAC,GADN;AAEb,QAAA,IAAI,EAAE,MAAK,WAAL,CAAiB,IAAjB,CAFO;AAGb,QAAA,QAAQ,EAAE,MAAK,WAHF;AAIb,QAAA,cAAc,EAAE,MAAK,aAJR;AAKb,QAAA,cAAc,EAAE,MAAK,aALR;AAMb,QAAA,WAAW,EAAE,MAAK,UANL;AAOb,QAAA,gBAAgB,EAAE,MAAK;AAPV,OAAf,EAQG,MAAK,iBARR,CAPF,CADF;AAoBD,KArBO;;AAuBA,UAAA,wBAAA,GAA2B,UAAC,IAAD,EAAU,QAAV,EAAgD;AACjF,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAA,cAAD,EAAe;AACb,QAAA,QAAQ,EAAE,QAAQ,CAAC,GADN;AAEb,QAAA,IAAI,EAAE,MAAK,WAAL,CAAiB,qBAAjB,CAAuC,IAAvC,EAA6C,WAA7C,EAA0D,cAA1D,CAFO;AAGb,QAAA,QAAQ,EAAE,MAAK,aAHF;AAIb,QAAA,cAAc,EAAE,MAAK,eAJR;AAKb,QAAA,cAAc,EAAE,MAAK,eALR;AAMb,QAAA,WAAW,EAAE,MAAK;AANL,OAAf,EAOG,MAAK,KAAL,CAAW,WAAX,IAA0B,MAAK,kBAPlC,CADF;AAWD,KAZO;;AAcA,UAAA,uBAAA,GAA0B,UAAC,IAAD,EAAU,KAAV,EAAwD;AACxF,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAA,cAAD,EAAe;AACb,QAAA,QAAQ,EAAE,KAAK,CAAC,GADH;AAEb,QAAA,IAAI,EAAE,MAAK,WAAL,CAAiB,oBAAjB,CAAsC,IAAtC,EAA4C,WAA5C,EAAyD,cAAzD,CAFO;AAGb,QAAA,QAAQ,EAAE,MAAK,YAHF;AAIb,QAAA,cAAc,EAAE,MAAK,cAJR;AAKb,QAAA,cAAc,EAAE,MAAK,cALR;AAMb,QAAA,WAAW,EAAE,MAAK;AANL,OAAf,EAOG,MAAK,KAAL,CAAW,UAAX,IAAyB,MAAK,iBAPjC,CADF;AAWD,KAZO;;AAcA,UAAA,mBAAA,GAAsB,UAAC,IAAD,EAAU,KAAV,EAA+C;AAC3E,cAAQ,MAAK,KAAL,CAAW,QAAX,CAAoB,EAA5B;AACE,aAAK,MAAA,CAAA,iBAAA,CAAkB,IAAlB,CAAuB,EAA5B;AACE,iBAAO,MAAK,sBAAL,CAA4B,IAA5B,EAAkC,KAAlC,CAAP;;AACF,aAAK,MAAA,CAAA,iBAAA,CAAkB,KAAlB,CAAwB,EAA7B;AACE,iBAAO,MAAK,wBAAL,CAA8B,IAA9B,EAAoC,KAApC,CAAP;;AACF,aAAK,MAAA,CAAA,iBAAA,CAAkB,IAAlB,CAAuB,EAA5B;AACE,iBAAO,MAAK,uBAAL,CAA6B,IAA7B,EAAmC,KAAnC,CAAP;AANJ;AAQD,KATO;;AAWA,UAAA,mBAAA,GAAsB,UAAC,QAAD,EAAiC;AAC7D,UAAI,MAAK,KAAL,CAAW,YAAf,EAA6B;AAC3B,eAAO,MAAK,KAAL,CAAW,YAAX,EAAP;AACD;;AACD,aAAO,IAAP;AACD,KALO;;AAOA,UAAA,mBAAA,GAAsB,UAAC,QAAD,EAAoC;AAChE,UAAM,aAAa,GAAG,MAAK,KAAL,CAAW,KAAX,IAAoB,MAAK,yBAA/C;AAEA,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAA,cAAD,EAAe;AACb,QAAA,KAAK,EAAE,QAAQ,CAAC,eADH;AAEb,QAAA,KAAK,EAAE,aAAa,CAAC,MAAK,KAAL,CAAW,WAAZ,EAAyB,MAAK,KAAL,CAAW,QAApC,CAFP;AAGb,QAAA,UAAU,EAAE,QAAQ,CAAC,KAHR;AAIb,QAAA,SAAS,EAAE,QAAQ,CAAC,IAJP;AAKb,QAAA,wBAAwB,EAAE,MAAK,yBAAL,EALb;AAMb,QAAA,YAAY,EAAE,MAAK,uBANN;AAOb,QAAA,qBAAqB,EAAE,MAAK,2BAPf;AAQb,QAAA,sBAAsB,EAAE,MAAK;AARhB,OAAf,CADF;AAYD,KAfO;;AA7VV;AA4XC;;;;SA9WC,eAAyB;AACvB,aAAO,KAAK,KAAL,CAAW,WAAlB;AACD;;;SAED,eAAe;AACb,aAAO,KAAK,KAAL,CAAW,GAAX,IAAkB,KAAK,WAAL,CAAiB,YAAjB,CAA8B,KAAK,WAAL,CAAiB,KAAjB,EAA9B,CAAzB;AACD;;;SAED,eAAe;AACb,aAAO,KAAK,KAAL,CAAW,GAAX,IAAkB,KAAK,WAAL,CAAiB,UAAjB,CAA4B,KAAK,WAAL,CAAiB,KAAjB,EAA5B,CAAzB;AACD;;;WAsVM,kBAAM;AAAA,wBAC0B,KAAK,KAD/B;AAAA,UACH,GADG,eACH,GADG;AAAA,UACE,KADF,eACE,KADF;AAAA,UACY,SADZ;;AAEX,UAAM,QAAQ,GAAG,KAAK,gBAAL,CAAsB,GAAG,CAAC,KAA1B,CAAjB;AAEA,aACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,cAAA,CAAA,IAAD,EAAK,SAAA,EAAA,EACC,SADD,EACU;AACb,QAAA,KAAK,EAAE,CAAC,QAAQ,CAAC,SAAV,EAAqB,KAArB;AADM,OADV,CAAL,EAGG,KAAK,mBAAL,CAAyB,QAAzB,CAHH,EAIG,KAAK,mBAAL,CAAyB,KAAK,KAAL,CAAW,WAApC,EAAiD,QAAjD,CAJH,EAKG,KAAK,mBAAL,CAAyB,QAAzB,CALH,CADF;AASD;;;;EA3X8D,OAAA,CAAA,OAAA,CAAM,S;;AAAvE,OAAA,CAAA,qBAAA,GAAA,qBAAA;AAES,qBAAA,CAAA,YAAA,GAA2C;AAChD,EAAA,WAAW,EAAE,IAAI,oBAAA,CAAA,iBAAJ,EADmC;AAEhD,EAAA,aAAa,EAAE,IAFiC;AAGhD,EAAA,SAAS,EAAE,MAAA,CAAA,iBAAA,CAAkB;AAHmB,CAA3C","sourceRoot":"","sourcesContent":["\"use strict\";\r\n/**\r\n * @license\r\n * Copyright Akveo. All Rights Reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n */\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst react_native_1 = require(\"react-native\");\r\nconst divider_component_1 = require(\"../divider/divider.component\");\r\nconst calendarHeader_component_1 = require(\"./components/calendarHeader.component\");\r\nconst calendarMonthHeader_component_1 = require(\"./components/calendarMonthHeader.component\");\r\nconst calendarPicker_component_1 = require(\"./components/picker/calendarPicker.component\");\r\nconst calendarDateContent_component_1 = require(\"./components/calendarDateContent.component\");\r\nconst type_1 = require(\"./type\");\r\nconst nativeDate_service_1 = require(\"./service/nativeDate.service\");\r\nconst calendarData_service_1 = require(\"./service/calendarData.service\");\r\nconst PICKER_ROWS = 4;\r\nconst PICKER_COLUMNS = 3;\r\nconst VIEWS_IN_PICKER = PICKER_ROWS * PICKER_COLUMNS;\r\nconst FORMAT_DAY = 'D';\r\nconst FORMAT_MONTH = 'MMM';\r\nconst FORMAT_YEAR = 'YYYY';\r\nconst FORMAT_HEADER_DATE = 'MMMM YYYY';\r\nconst FORMAT_HEADER_MONTH = 'YYYY';\r\nconst FORMAT_HEADER_YEAR = 'YYYY';\r\nclass BaseCalendarComponent extends react_1.default.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            viewMode: this.props.startView,\r\n            visibleDate: this.dateService.getMonthStart(this.selectedDate()),\r\n        };\r\n        this.dataService = new calendarData_service_1.CalendarDataService(this.dateService);\r\n        this.scrollToToday = () => {\r\n            this.setState({\r\n                viewMode: type_1.CalendarViewModes.DATE,\r\n                visibleDate: this.dateService.today(),\r\n            });\r\n        };\r\n        this.getCalendarStyle = (source) => {\r\n            return {\r\n                container: {\r\n                    width: source.width,\r\n                    paddingVertical: source.paddingVertical,\r\n                    borderColor: source.borderColor,\r\n                    borderWidth: source.borderWidth,\r\n                    borderRadius: source.borderRadius,\r\n                },\r\n                headerContainer: {\r\n                    paddingHorizontal: source.headerPaddingHorizontal,\r\n                    paddingVertical: source.headerPaddingVertical,\r\n                },\r\n                title: {\r\n                    fontSize: source.titleFontSize,\r\n                    fontWeight: source.titleFontWeight,\r\n                    color: source.titleColor,\r\n                    fontFamily: source.titleFontFamily,\r\n                },\r\n                icon: {\r\n                    width: source.iconWidth,\r\n                    height: source.iconHeight,\r\n                    tintColor: source.iconTintColor,\r\n                },\r\n                divider: {\r\n                    marginVertical: source.dividerMarginVertical,\r\n                },\r\n                daysHeaderContainer: {\r\n                    marginHorizontal: source.rowMarginHorizontal,\r\n                },\r\n                row: {\r\n                    minHeight: source.rowMinHeight,\r\n                    marginHorizontal: source.rowMarginHorizontal,\r\n                },\r\n            };\r\n        };\r\n        this.isDayDisabled = ({ date }) => {\r\n            const minDayStart = this.dateService.createDate(this.dateService.getYear(this.min), this.dateService.getMonth(this.min), this.dateService.getDate(this.min));\r\n            const maxDayStart = this.dateService.createDate(this.dateService.getYear(this.max), this.dateService.getMonth(this.max), this.dateService.getDate(this.max));\r\n            const fitsFilter = this.props.filter && !this.props.filter(date) || false;\r\n            return !this.dateService.isBetweenIncludingSafe(date, minDayStart, maxDayStart) || fitsFilter;\r\n        };\r\n        this.isDayToday = ({ date }) => {\r\n            return this.dateService.isSameDaySafe(date, this.dateService.today());\r\n        };\r\n        this.onDaySelect = ({ date }) => {\r\n            this.onDateSelect(date);\r\n        };\r\n        this.onMonthSelect = ({ date }) => {\r\n            const nextVisibleDate = this.dateService.createDate(this.dateService.getYear(this.state.visibleDate), this.dateService.getMonth(date), this.dateService.getDate(this.state.visibleDate));\r\n            this.setState({\r\n                viewMode: this.state.viewMode.pickNext(),\r\n                visibleDate: nextVisibleDate,\r\n            });\r\n        };\r\n        this.onYearSelect = ({ date }) => {\r\n            const nextVisibleDate = this.dateService.createDate(this.dateService.getYear(date), this.dateService.getMonth(this.state.visibleDate), this.dateService.getDate(this.state.visibleDate));\r\n            this.setState({\r\n                viewMode: this.state.viewMode.pickNext(),\r\n                visibleDate: nextVisibleDate,\r\n            });\r\n        };\r\n        this.onPickerNavigationPress = () => {\r\n            this.setState({\r\n                viewMode: this.state.viewMode.navigationNext(),\r\n            });\r\n        };\r\n        this.onHeaderNavigationLeftPress = () => {\r\n            this.setState({\r\n                visibleDate: this.createViewModeVisibleDate(-1),\r\n            });\r\n        };\r\n        this.onHeaderNavigationRightPress = () => {\r\n            this.setState({\r\n                visibleDate: this.createViewModeVisibleDate(1),\r\n            });\r\n        };\r\n        this.getWeekdayStyle = (source) => {\r\n            return {\r\n                fontSize: source.weekdayTextFontSize,\r\n                fontWeight: source.weekdayTextFontWeight,\r\n                color: source.weekdayTextColor,\r\n                fontFamily: source.weekdayTextFontFamily,\r\n            };\r\n        };\r\n        this.isDaySelected = ({ date }) => {\r\n            return this.isDateSelected(date);\r\n        };\r\n        this.isMonthSelected = ({ date }) => {\r\n            return this.dateService.isSameMonthSafe(date, this.selectedDate());\r\n        };\r\n        this.isYearSelected = ({ date }) => {\r\n            return this.dateService.isSameYearSafe(date, this.selectedDate());\r\n        };\r\n        this.isMonthDisabled = ({ date }) => {\r\n            const minMonthStart = this.dateService.getMonthStart(this.min);\r\n            const maxMonthStart = this.dateService.getMonthStart(this.max);\r\n            return !this.dateService.isBetweenIncludingSafe(date, minMonthStart, maxMonthStart);\r\n        };\r\n        this.isYearDisabled = ({ date }) => {\r\n            const minYearStart = this.dateService.getYearStart(this.min);\r\n            const maxYearStart = this.dateService.getYearEnd(this.max);\r\n            return !this.dateService.isBetweenIncludingSafe(date, minYearStart, maxYearStart);\r\n        };\r\n        this.isMonthToday = (date) => {\r\n            return this.dateService.isSameMonthSafe(date.date, this.dateService.today());\r\n        };\r\n        this.isYearToday = ({ date }) => {\r\n            return this.dateService.isSameYearSafe(date, this.dateService.today());\r\n        };\r\n        this.isHeaderNavigationAllowed = () => {\r\n            return this.state.viewMode.id !== type_1.CalendarViewModes.MONTH.id;\r\n        };\r\n        this.createViewModeVisibleDate = (page) => {\r\n            switch (this.state.viewMode.id) {\r\n                case type_1.CalendarViewModes.DATE.id: {\r\n                    return this.dateService.addMonth(this.state.visibleDate, page);\r\n                }\r\n                case type_1.CalendarViewModes.MONTH.id: {\r\n                    return this.dateService.addYear(this.state.visibleDate, page);\r\n                }\r\n                case type_1.CalendarViewModes.YEAR.id: {\r\n                    return this.dateService.addYear(this.state.visibleDate, VIEWS_IN_PICKER * page);\r\n                }\r\n            }\r\n        };\r\n        this.createViewModeHeaderTitle = (date, viewMode) => {\r\n            switch (viewMode.id) {\r\n                case type_1.CalendarViewModes.DATE.id: {\r\n                    return this.dateService.format(date, FORMAT_HEADER_DATE);\r\n                }\r\n                case type_1.CalendarViewModes.MONTH.id: {\r\n                    return this.dateService.format(date, FORMAT_HEADER_MONTH);\r\n                }\r\n                case type_1.CalendarViewModes.YEAR.id: {\r\n                    const minDateFormat = this.dateService.format(this.min, FORMAT_HEADER_YEAR);\r\n                    const maxDateFormat = this.dateService.format(this.max, FORMAT_HEADER_YEAR);\r\n                    return `${minDateFormat} - ${maxDateFormat}`;\r\n                }\r\n            }\r\n        };\r\n        this.renderDayIfNeeded = (item, style) => {\r\n            const shouldRender = !item.bounding || this.props.boundingMonth;\r\n            if (shouldRender) {\r\n                const renderSelector = this.props.renderDay || this.renderDayElement;\r\n                return renderSelector(item, style);\r\n            }\r\n            return null;\r\n        };\r\n        this.renderWeekdayElement = (weekday, index) => {\r\n            return (react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, { key: index, textStyle: this.getWeekdayStyle(this.props.eva.style) }, weekday));\r\n        };\r\n        this.renderDayElement = ({ date }, evaStyle) => {\r\n            return (react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, { style: evaStyle.container, textStyle: evaStyle.text }, this.dateService.format(date, FORMAT_DAY)));\r\n        };\r\n        this.renderMonthElement = ({ date }, evaStyle) => {\r\n            return (react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, { style: evaStyle.container, textStyle: evaStyle.text }, this.dateService.format(date, FORMAT_MONTH)));\r\n        };\r\n        this.renderYearElement = ({ date }, evaStyle) => {\r\n            return (react_1.default.createElement(calendarDateContent_component_1.CalendarDateContent, { style: evaStyle.container, textStyle: evaStyle.text }, this.dateService.format(date, FORMAT_YEAR)));\r\n        };\r\n        this.renderDayPickerElement = (date, evaStyle) => {\r\n            return (react_1.default.createElement(react_1.default.Fragment, null,\r\n                react_1.default.createElement(calendarMonthHeader_component_1.CalendarMonthHeader, { style: evaStyle.daysHeaderContainer, data: this.dateService.getDayOfWeekNames() }, this.renderWeekdayElement),\r\n                react_1.default.createElement(divider_component_1.Divider, { style: evaStyle.divider }),\r\n                react_1.default.createElement(calendarPicker_component_1.CalendarPicker, { rowStyle: evaStyle.row, data: this.createDates(date), onSelect: this.onDaySelect, isItemSelected: this.isDaySelected, isItemDisabled: this.isDayDisabled, isItemToday: this.isDayToday, shouldItemUpdate: this.shouldUpdateDate }, this.renderDayIfNeeded)));\r\n        };\r\n        this.renderMonthPickerElement = (date, evaStyle) => {\r\n            return (react_1.default.createElement(calendarPicker_component_1.CalendarPicker, { rowStyle: evaStyle.row, data: this.dataService.createMonthPickerData(date, PICKER_ROWS, PICKER_COLUMNS), onSelect: this.onMonthSelect, isItemSelected: this.isMonthSelected, isItemDisabled: this.isMonthDisabled, isItemToday: this.isMonthToday }, this.props.renderMonth || this.renderMonthElement));\r\n        };\r\n        this.renderYearPickerElement = (date, style) => {\r\n            return (react_1.default.createElement(calendarPicker_component_1.CalendarPicker, { rowStyle: style.row, data: this.dataService.createYearPickerData(date, PICKER_ROWS, PICKER_COLUMNS), onSelect: this.onYearSelect, isItemSelected: this.isYearSelected, isItemDisabled: this.isYearDisabled, isItemToday: this.isYearToday }, this.props.renderYear || this.renderYearElement));\r\n        };\r\n        this.renderPickerElement = (date, style) => {\r\n            switch (this.state.viewMode.id) {\r\n                case type_1.CalendarViewModes.DATE.id:\r\n                    return this.renderDayPickerElement(date, style);\r\n                case type_1.CalendarViewModes.MONTH.id:\r\n                    return this.renderMonthPickerElement(date, style);\r\n                case type_1.CalendarViewModes.YEAR.id:\r\n                    return this.renderYearPickerElement(date, style);\r\n            }\r\n        };\r\n        this.renderFooterElement = (evaStyle) => {\r\n            if (this.props.renderFooter) {\r\n                return this.props.renderFooter();\r\n            }\r\n            return null;\r\n        };\r\n        this.renderHeaderElement = (evaStyle) => {\r\n            const titleSelector = this.props.title || this.createViewModeHeaderTitle;\r\n            return (react_1.default.createElement(calendarHeader_component_1.CalendarHeader, { style: evaStyle.headerContainer, title: titleSelector(this.state.visibleDate, this.state.viewMode), titleStyle: evaStyle.title, iconStyle: evaStyle.icon, lateralNavigationAllowed: this.isHeaderNavigationAllowed(), onTitlePress: this.onPickerNavigationPress, onNavigationLeftPress: this.onHeaderNavigationLeftPress, onNavigationRightPress: this.onHeaderNavigationRightPress }));\r\n        };\r\n    }\r\n    get dateService() {\r\n        return this.props.dateService;\r\n    }\r\n    get min() {\r\n        return this.props.min || this.dateService.getYearStart(this.dateService.today());\r\n    }\r\n    get max() {\r\n        return this.props.max || this.dateService.getYearEnd(this.dateService.today());\r\n    }\r\n    render() {\r\n        const { eva, style, ...viewProps } = this.props;\r\n        const evaStyle = this.getCalendarStyle(eva.style);\r\n        return (react_1.default.createElement(react_native_1.View, Object.assign({}, viewProps, { style: [evaStyle.container, style] }),\r\n            this.renderHeaderElement(evaStyle),\r\n            this.renderPickerElement(this.state.visibleDate, evaStyle),\r\n            this.renderFooterElement(evaStyle)));\r\n    }\r\n}\r\nexports.BaseCalendarComponent = BaseCalendarComponent;\r\nBaseCalendarComponent.defaultProps = {\r\n    dateService: new nativeDate_service_1.NativeDateService(),\r\n    boundingMonth: true,\r\n    startView: type_1.CalendarViewModes.DATE,\r\n};\r\n//# sourceMappingURL=baseCalendar.component.js.map"]},"metadata":{},"sourceType":"script"}